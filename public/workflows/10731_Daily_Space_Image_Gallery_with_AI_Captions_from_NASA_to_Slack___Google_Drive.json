{
  "id": "nYt03G13R4bZ7pyy",
  "meta": {
    "name": "Daily Space Image Gallery with AI Captions from NASA to Slack & Google Drive",
    "id": 10731
  },
  "name": "Interactive Space Gallery - Responder",
  "tags": [],
  "nodes": [
    {
      "id": "cb2c9dc6-b298-4842-9e4e-a57b34f8072f",
      "name": "Daily 10:00 - Start Poll",
      "type": "n8n-nodes-base.scheduleTrigger",
      "position": [
        -1936,
        368
      ],
      "parameters": {
        "rule": {
          "interval": [
            {
              "triggerAtHour": 10
            }
          ]
        }
      },
      "typeVersion": 1.2
    },
    {
      "id": "38012253-80c2-4438-9e12-54f05a5b850a",
      "name": "Fetch Mars Rover",
      "type": "n8n-nodes-base.httpRequest",
      "maxTries": 5,
      "position": [
        -1488,
        368
      ],
      "parameters": {
        "url": "=https://api.nasa.gov/mars-photos/api/v1/rovers/curiosity/latest_photos?api_key={{ $('Workflow Configuration').first().json.nasaApiKey }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "retryOnFail": true,
      "typeVersion": 4.3
    },
    {
      "id": "5866b477-6cc6-4c52-9ac3-8121a00799e8",
      "name": "Fetch Image Library",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        -1488,
        560
      ],
      "parameters": {
        "url": "=https://images-api.nasa.gov/search?q=nebula&media_type=image",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "typeVersion": 4.3
    },
    {
      "id": "429f86cb-c5d3-41cc-a3ea-c82db558fc0f",
      "name": "Merge",
      "type": "n8n-nodes-base.merge",
      "position": [
        -1040,
        352
      ],
      "parameters": {
        "mode": "combineBySql",
        "options": {},
        "numberInputs": 3
      },
      "typeVersion": 3.2
    },
    {
      "id": "ced8310c-846a-4a81-a01f-0a10527ea56a",
      "name": "Fetch NASA EPIC",
      "type": "n8n-nodes-base.httpRequest",
      "maxTries": 5,
      "position": [
        -1488,
        176
      ],
      "parameters": {
        "url": "=https://api.nasa.gov/EPIC/api/natural?api_key={{ $('Workflow Configuration').first().json.nasaApiKey }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "json"
            }
          }
        }
      },
      "retryOnFail": true,
      "typeVersion": 4.3
    },
    {
      "id": "6b8e5399-43be-4c51-a69f-0472fba42823",
      "name": "Format Mars Photo",
      "type": "n8n-nodes-base.code",
      "position": [
        -1264,
        368
      ],
      "parameters": {
        "jsCode": "// ç«æ˜Ÿæ¢æŸ»ä¿‚ãŒæŒã¡å¸°ã£ãŸè·ç‰©ã‚’å—ã‘å–ã‚‹\nconst items = $input.all();\n\n// è·ç‰©ã®ä¸­èº«ï¼ˆlatest_photosï¼‰ãŒç©ºã£ã½ãªã‚‰ã€ä»•äº‹ã‚’ãŠã—ã¾ã„ã«ã™ã‚‹\nif (!items[0].json.latest_photos || items[0].json.latest_photos.length === 0) {\n  return [];\n}\nconst marsPhotos = items[0].json.latest_photos;\n\n// æœ€æ–°ã®ï¼ˆãƒªã‚¹ãƒˆã®æœ€åˆã®ï¼‰å†™çœŸã‚’é¸ã¶\nconst latestPhoto = marsPhotos[0];\n\n// ã€Œçµ±ä¸€è¦æ ¼ã€ã«å¾“ã£ã¦ã€ç®±è©°ã‚ã™ã‚‹\nconst finalPart = {\n  source: \"Mars Rover\",\n  title: `ç«æ˜Ÿæ¢æŸ»è»Š${latestPhoto.rover.name}ã‹ã‚‰ã®ä¾¿ã‚Š`,\n  url: latestPhoto.img_src,\n  explanation: `${latestPhoto.earth_date}æ’®å½±ã€‚${latestPhoto.camera.full_name}ã‚ˆã‚Šã€‚`\n};\n\n// å®Œæˆéƒ¨å“ã‚’æ¬¡ã®å·¥ç¨‹ã¸æ¸¡ã™\nreturn [{ json: finalPart }];\n```*(å›ã®JSONã‚’è¦‹ã‚‹é™ã‚Šã€`Format Mars Photo`ã¨ã„ã†åå‰ã®ãƒãƒ¼ãƒ‰ã«ã€ã“ã®ã‚³ãƒ¼ãƒ‰ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã¯ãšã˜ã‚ƒï¼)*\n\n---\n\n#### è·äººâ‘¢ï¼šå®‡å®™å›³æ›¸é¤¨å“¡ (`Format Library Photo`)\n\n*   **å½¹å‰²:** `Fetch Image Library`ä¿‚ãŒæŒã¡å¸°ã£ãŸã€ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢çµæœã®ãƒªã‚¹ãƒˆã‚’å—ã‘å–ã‚‹ã€‚ãã®ä¸­ã‹ã‚‰æœ€åˆã®1æšã‚’é¸ã³ã€ã“ã‚Œã‚‚ã¾ãŸã€Œå®çŸ³ã€ã«åŠ å·¥ã™ã‚‹ã€‚\n*   **ç¢ºèªã™ã‚‹å ´æ‰€:** `Fetch Image Library`ãƒãƒ¼ãƒ‰ã®**ã™ãå¾Œã‚**ã«ã‚ã‚‹`Code`ãƒãƒ¼ãƒ‰ã€‚\n\n**ã€ã“ã®ãƒãƒ¼ãƒ‰ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹ã¹ãã€å”¯ä¸€ç„¡äºŒã®æ­£ã—ã„ã‚³ãƒ¼ãƒ‰ã€‘**\n```javascript\n// å›³æ›¸é¤¨ä¿‚ãŒæŒã¡å¸°ã£ãŸæ¤œç´¢çµæœã‚’å—ã‘å–ã‚‹\nconst items = $input.all();\n\n// æ¤œç´¢çµæœï¼ˆcollection.itemsï¼‰ãŒç©ºã£ã½ãªã‚‰ã€ä»•äº‹ã‚’ãŠã—ã¾ã„ã«ã™ã‚‹\nif (!items[0].json.collection || !items[0].json.collection.items || items[0].json.collection.items.length === 0) {\n  return [];\n}\nconst libraryItems = items[0].json.collection.items;\n\n// æœ€åˆã®æ¤œç´¢çµæœã‚’é¸ã¶\nconst firstItem = libraryItems[0];\n\n// èª¬æ˜æ–‡ãŒé•·ã™ãã‚‹ã“ã¨ãŒã‚ã‚‹ã®ã§ã€200æ–‡å­—ã§åˆ‡ã‚Šè©°ã‚ã‚‹\nconst description = firstItem.data[0].description;\nconst shortDescription = description.length > 200 ? description.substring(0, 200) + '...' : description;\n\n// ã€Œçµ±ä¸€è¦æ ¼ã€ã«å¾“ã£ã¦ã€ç®±è©°ã‚ã™ã‚‹\nconst finalPart = {\n  source: \"Image Library\",\n  title: `å®‡å®™ã®ç¥ç§˜ï¼š${firstItem.data[0].title}`,\n  url: firstItem.links[0].href,\n  explanation: shortDescription\n};\n\n// å®Œæˆéƒ¨å“ã‚’æ¬¡ã®å·¥ç¨‹ã¸æ¸¡ã™\nreturn [{ json: finalPart }];"
      },
      "typeVersion": 2
    },
    {
      "id": "ea4101e3-f574-4477-8362-3e523d68f2c4",
      "name": "Format Library Photo",
      "type": "n8n-nodes-base.code",
      "position": [
        -1264,
        560
      ],
      "parameters": {
        "jsCode": "// å›³æ›¸é¤¨ä¿‚ãŒæŒã¡å¸°ã£ãŸæ¤œç´¢çµæœã‚’å—ã‘å–ã‚‹\nconst items = $input.all();\n\n// æ¤œç´¢çµæœï¼ˆcollection.itemsï¼‰ãŒç©ºã£ã½ãªã‚‰ã€ä»•äº‹ã‚’ãŠã—ã¾ã„ã«ã™ã‚‹\nif (!items[0].json.collection || !items[0].json.collection.items || items[0].json.collection.items.length === 0) {\n  return [];\n}\nconst libraryItems = items[0].json.collection.items;\n\n// æœ€åˆã®æ¤œç´¢çµæœã‚’é¸ã¶\nconst firstItem = libraryItems[0];\n\n// èª¬æ˜æ–‡ãŒé•·ã™ãã‚‹ã“ã¨ãŒã‚ã‚‹ã®ã§ã€200æ–‡å­—ã§åˆ‡ã‚Šè©°ã‚ã‚‹\nconst description = firstItem.data[0].description;\nconst shortDescription = description.length > 200 ? description.substring(0, 200) + '...' : description;\n\n// ã€Œçµ±ä¸€è¦æ ¼ã€ã«å¾“ã£ã¦ã€ç®±è©°ã‚ã™ã‚‹\nconst finalPart = {\n  source: \"Image Library\",\n  title: `å®‡å®™ã®ç¥ç§˜ï¼š${firstItem.data[0].title}`,\n  url: firstItem.links[0].href,\n  explanation: shortDescription\n};\n\n// å®Œæˆéƒ¨å“ã‚’æ¬¡ã®å·¥ç¨‹ã¸æ¸¡ã™\nreturn [{ json: finalPart }];"
      },
      "typeVersion": 2
    },
    {
      "id": "fa136d9f-df9d-4d71-a88d-f918ca2ff189",
      "name": "Format EPIC Photo",
      "type": "n8n-nodes-base.code",
      "position": [
        -1264,
        176
      ],
      "parameters": {
        "jsCode": "// EPICä¿‚ãŒæŒã¡å¸°ã£ãŸã‚«ã‚¿ãƒ­ã‚°ã‚’å—ã‘å–ã‚‹\nconst items = $input.all();\n\n// ã‚«ã‚¿ãƒ­ã‚°ãŒç©ºã£ã½ãªã‚‰ã€é™ã‹ã«ä»•äº‹ã‚’ãŠã—ã¾ã„ã«ã™ã‚‹\nif (items.length === 0 || !items[0].json || items[0].json.length === 0) {\n  return []; \n}\nconst epicImages = items[0].json;\n\n// æœ€æ–°ã®ï¼ˆãƒªã‚¹ãƒˆã®æœ€åˆã®ï¼‰å†™çœŸã‚’é¸ã¶\nconst latestImage = epicImages[0];\n\n// ç§˜ä¼ã®æŠ€ã§ã€URLã‚’çµ„ã¿ç«‹ã¦ã‚‹\nconst dateStr = latestImage.date;\nconst [year, month, day] = dateStr.split(' ')[0].split('-');\nconst imageName = latestImage.image;\nconst imageUrl = `https://epic.gsfc.nasa.gov/archive/natural/${year}/${month}/${day}/png/${imageName}.png`;\n\n// ã€Œçµ±ä¸€è¦æ ¼ã€ã«å¾“ã£ã¦ã€ç®±è©°ã‚ã™ã‚‹\nconst finalPart = {\n  source: \"EPIC\",\n  title: `æ•…éƒ·ã€åœ°çƒã®è‚–åƒ (${latestImage.date})`,\n  url: imageUrl,\n  explanation: latestImage.caption || 'æˆ‘ã€…ã®æ•…éƒ·ã€åœ°çƒã®ç¾ã—ã„å§¿ã€‚'\n};\n\n// å®Œæˆéƒ¨å“ã‚’æ¬¡ã®å·¥ç¨‹ã¸æ¸¡ã™\nreturn [{ json: finalPart }];"
      },
      "typeVersion": 2
    },
    {
      "id": "d2c16e20-cb63-4d66-895b-c1a8199c2d9d",
      "name": "Combine for Slack",
      "type": "n8n-nodes-base.code",
      "position": [
        -240,
        192
      ],
      "parameters": {
        "jsCode": "// AIã«ã‚ˆã£ã¦é­‚ã‚’å¹ãè¾¼ã¾ã‚ŒãŸã€3ã¤ã®å®Œæˆéƒ¨å“ã‚’å—ã‘å–ã‚‹\n// ã“ã®æ™‚ç‚¹ã§ã¯ã€å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã¯3ã¤ã®ã‚¢ã‚¤ãƒ†ãƒ ã«ãªã£ã¦ã„ã‚‹ã¯ãšã˜ã‚ƒ\nconst finalParts = $input.all();\n\n// --- ã“ã“ã‹ã‚‰ã€Slackãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¨ã„ã†åã®èŠ¸è¡“å“ã‚’å‰µã‚Šä¸Šã’ã‚‹ ---\n\nlet finalMessage = \"ğŸŒŒ **æœ¬æ—¥ã®å®‡å®™ã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** ğŸŒŒ\\n\\n\";\nfinalMessage += \"åœ°çƒã€ç«æ˜Ÿã€ãã—ã¦æ·±å®‡å®™ã‹ã‚‰å±Šã„ãŸã€é­‚ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ä»˜ãã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã§ã™ï¼\\n\";\nfinalMessage += \"---------------------------------\\n\\n\";\n\n// forEachã¨ã„ã†é­”æ³•ã®å‘ªæ–‡ã§ã€3ã¤ã®éƒ¨å“ã‚’ä¸€ã¤ãšã¤å‡¦ç†ã—ã¦ã„ã\nfinalParts.forEach(part => {\n  // å…ƒã®å†™çœŸæƒ…å ±ã‚’å–ã‚Šå‡ºã™\n  const photoInfo = part.json;\n  \n  // AIãŒç”Ÿæˆã—ãŸã€é­‚ã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’å–ã‚Šå‡ºã™\n  // AI Agentãƒãƒ¼ãƒ‰ã¯ 'output' ã¨ã„ã†åå‰ã§çµæœã‚’è¿”ã™\n  const aiCaption = photoInfo.output;\n\n  finalMessage += `*ğŸ“¸ from ${photoInfo.source}: ${photoInfo.title}*\\n`;\n  // ã“ã“ã§ã€ç„¡æ©Ÿè³ªãªèª¬æ˜æ–‡ã®ä»£ã‚ã‚Šã«ã€AIã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã‚’ä½¿ã†ï¼\n  finalMessage += `> ${aiCaption}\\n`;\n  finalMessage += `${photoInfo.url}\\n\\n`;\n});\n\nfinalMessage += \"---------------------------------\\n\";\nfinalMessage += \"ãŠæ°—ã«å…¥ã‚Šã®ä¸€æšã«ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã§æ•™ãˆã¦ãŠãã‚Œï¼ (åœ°çƒ: ğŸŒ, ç«æ˜Ÿ: ğŸ”¥, å®‡å®™: âœ¨)\";\n\n// å®Œæˆã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã€Slackå ±å‘Šä¿‚ã«æ¸¡ã™ãŸã‚ã®ç®±ã«å…¥ã‚Œã‚‹\nreturn [{ json: { slackMessage: finalMessage } }];"
      },
      "typeVersion": 2
    },
    {
      "id": "ddbba6d9-0ea9-45cf-a6e6-9dd26e402224",
      "name": "Workflow Configuration",
      "type": "n8n-nodes-base.set",
      "position": [
        -1712,
        368
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "nasaApiKey",
              "type": "string",
              "value": ""
            },
            {
              "id": "id-2",
              "name": "slackChannel",
              "type": "string",
              "value": "YOUR_SLACK_CHANNEL_NAME"
            }
          ]
        },
        "includeOtherFields": true
      },
      "typeVersion": 3.4
    },
    {
      "id": "b9f82caa-e559-43d3-95f6-fde378fffa36",
      "name": "Post to Slack1",
      "type": "n8n-nodes-base.slack",
      "position": [
        -16,
        96
      ],
      "webhookId": "7b2d45b6-8714-4c43-8f56-cd2f19f54785",
      "parameters": {
        "text": "={{ $json.slackMessage }}",
        "user": {
          "__rl": true,
          "mode": "list",
          "value": "U09RNMU4BL0",
          "cachedResultName": "chinatsu.y.natty"
        },
        "select": "user",
        "otherOptions": {},
        "authentication": "oAuth2"
      },
      "typeVersion": 2.3
    },
    {
      "id": "2c73aabd-e4bb-4a61-a3db-6f256be53c84",
      "name": "AI Agent",
      "type": "@n8n/n8n-nodes-langchain.agent",
      "position": [
        -592,
        240
      ],
      "parameters": {
        "text": "=å†™çœŸã®ã‚¿ã‚¤ãƒˆãƒ«: {{ $json.title }}\nå…ƒã®èª¬æ˜æ–‡: {{ $json.explanation }}",
        "options": {
          "systemMessage": "ã‚ãªãŸã¯ã€ä¸ãˆã‚‰ã‚ŒãŸå†™çœŸã®æƒ…å ±ã‚’å…ƒã«ã€ãã®å†™çœŸãŒæŒã¤ã€Œé­‚ã€ã‚’çŸ­ã„ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ï¼ˆæ—¥æœ¬èªã§80æ–‡å­—ä»¥å†…ï¼‰ã§è¡¨ç¾ã™ã‚‹ã€å®‡å®™å°‚é–€ã®ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\n\nã‚ãªãŸã®ä»•äº‹ã¯ã€ä»¥ä¸‹ã®æƒ…å ±ã‚’å…ƒã«ã€æ„Ÿæƒ…ã«è¨´ãˆã‹ã‘ã‚‹ç´¹ä»‹æ–‡ã‚’ç”Ÿæˆã™ã‚‹ã“ã¨ã§ã™ã€‚\n- å†™çœŸã®ã‚¿ã‚¤ãƒˆãƒ«\n- å†™çœŸã®å…ƒã€…ã®èª¬æ˜æ–‡\n\nä¾‹ãˆã°ã€ã€Œç«æ˜Ÿæ¢æŸ»è»Šã‹ã‚‰ã®ä¾¿ã‚Šã€ã¨ã„ã†æƒ…å ±ã‚’å—ã‘å–ã£ãŸã‚‰ã€ã€Œèµ¤ã„å¤§åœ°ã«åˆ»ã¾ã‚ŒãŸã€å­¤ç‹¬ãªè½ã€‚ä»Šæ—¥ã‚‚å½¼ã¯ã€äººé¡ã®å¤¢ã‚’ä¹—ã›ã¦é€²ã‚€ã€‚ã€ã®ã‚ˆã†ã«ã€ç‰©èªã‚’æ„Ÿã˜ã•ã›ã‚‹è¨€è‘‰ã‚’è¿”ã—ã¦ãã ã•ã„ã€‚\n\nç”Ÿæˆã™ã‚‹ã®ã¯ã€ãã®ã‚­ãƒ£ãƒ—ã‚·ãƒ§ãƒ³ã®æœ¬æ–‡ã®ã¿ã§ã™ã€‚ä»–ã®è¨€è‘‰ã¯ä¸€åˆ‡ä¸è¦ã§ã™ã€‚"
        },
        "promptType": "define"
      },
      "typeVersion": 3
    },
    {
      "id": "cf189105-6ffd-404b-ba7f-a29c688e7121",
      "name": "OpenAI Chat Model3",
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenAi",
      "position": [
        -528,
        464
      ],
      "parameters": {
        "model": {
          "__rl": true,
          "mode": "list",
          "value": "gpt-4.1-mini"
        },
        "options": {}
      },
      "typeVersion": 1.2
    },
    {
      "id": "27fe0735-ce0f-4bbc-951d-efd0308af192",
      "name": "Loop Over Items",
      "type": "n8n-nodes-base.splitInBatches",
      "position": [
        -816,
        368
      ],
      "parameters": {
        "options": {}
      },
      "typeVersion": 3
    },
    {
      "id": "0ca47de2-0ac6-438d-9d86-dc94988803a7",
      "name": "Replace Me",
      "type": "n8n-nodes-base.noOp",
      "position": [
        -240,
        464
      ],
      "parameters": {},
      "typeVersion": 1
    },
    {
      "id": "9a04f449-8b0b-4377-a148-cf4c155410da",
      "name": "Google Drive: Save Summary",
      "type": "n8n-nodes-base.googleDrive",
      "position": [
        208,
        288
      ],
      "parameters": {
        "name": "=ğŸŒŒ **æœ¬æ—¥ã®å®‡å®™ã‚»ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³** ğŸŒŒ",
        "content": "={{ $json.slackMessage }}",
        "driveId": {
          "__rl": true,
          "mode": "list",
          "value": "My Drive",
          "cachedResultUrl": "https://drive.google.com/drive/my-drive",
          "cachedResultName": "My Drive"
        },
        "options": {},
        "folderId": {
          "__rl": true,
          "mode": "list",
          "value": "1Xs9jgElOvcldGZUCFVVhmhr_qjJmy_3R",
          "cachedResultUrl": "https://drive.google.com/drive/folders/1Xs9jgElOvcldGZUCFVVhmhr_qjJmy_3R",
          "cachedResultName": "Interactive Space Gallery - Responder"
        },
        "operation": "createFromText"
      },
      "typeVersion": 3
    },
    {
      "id": "78f81aa6-b792-481a-8193-d563af687787",
      "name": "Set: Prepare Summary",
      "type": "n8n-nodes-base.set",
      "position": [
        -16,
        288
      ],
      "parameters": {
        "options": {},
        "assignments": {
          "assignments": [
            {
              "id": "id-1",
              "name": "documentTitle",
              "type": "string",
              "value": "="
            },
            {
              "id": "id-2",
              "name": "documentContent",
              "type": "string",
              "value": "={{ $json.summary }}"
            }
          ]
        },
        "includeOtherFields": true
      },
      "typeVersion": 3.4
    },
    {
      "id": "3a4ccf60-02c6-4b1f-af36-70dde274753c",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -2560,
        176
      ],
      "parameters": {
        "color": null,
        "width": 560,
        "height": 480,
        "content": "ğŸŒŒ Daily Space Image Gallery with AI Captions\nThis workflow automatically fetches stunning daily images from three different NASA sources, uses an AI agent to write creative captions, and posts the collection to a Slack channel.\nHow it Works\nTrigger: The workflow runs on a daily schedule.\nFetch: It makes parallel API calls to NASA's EPIC (Earth photos), Mars Rover (Curiosity), and Image Library APIs.\nFormat: The data from each source is standardized.\nAI Captions: The workflow loops through each image, sending the title and description to an AI model to generate a poetic, short caption in Japanese.\nPost & Save: It compiles the images and their new AI captions into a single, formatted message and posts it to Slack. It also saves a copy of the message to Google Drive.\nHow to Set Up\nConfigure Variables: In the 'Workflow Configuration' node, set your NASA API key and the target Slack channel name.\nConnect Credentials: Authenticate the OpenAI, Slack, and Google Drive nodes with your own accounts.\nActivate: Save and activate the workflow."
      },
      "typeVersion": 1
    },
    {
      "id": "a11e2070-52a2-4120-9a21-59c12233e178",
      "name": "Sticky Note 1",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1696,
        0
      ],
      "parameters": {
        "width": 340,
        "height": 132,
        "content": "### ğŸ›°ï¸ Fetch Images\nThese three nodes make parallel API calls to different NASA sources to gather a diverse set of daily space images."
      },
      "typeVersion": 1
    },
    {
      "id": "79200994-b56f-4d51-b699-943645aee9ea",
      "name": "Sticky Note 2",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -64,
        -192
      ],
      "parameters": {
        "width": 300,
        "height": 252,
        "content": "### ğŸš€ Post & Save\n\nThe final nodes in the workflow assemble the beautiful Slack message with the AI captions and post it to your channel. A backup is also saved to Google Drive.\n\n**Action Required:** Make sure you have connected your credentials for both the `Post to Slack` and `Google Drive` nodes."
      },
      "typeVersion": 1
    },
    {
      "id": "33bee8a9-2e54-489d-9fcc-edaff65b79fb",
      "name": "Sticky Note 3",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1312,
        -32
      ],
      "parameters": {
        "width": 300,
        "height": 168,
        "content": "### ğŸ› ï¸ Format Data\nEach of these Code nodes takes the raw API response from the corresponding fetch node and transforms it into a clean, standardized JSON object (`source`, `title`, `url`, `explanation`)."
      },
      "typeVersion": 1
    },
    {
      "id": "64d3f4e8-f921-4e09-b614-106c045f11b7",
      "name": "Sticky Note 4",
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -640,
        -48
      ],
      "parameters": {
        "width": 300,
        "height": 240,
        "content": "### ğŸ¤– AI Caption Generation\nThis loop processes each of the three images individually.\n\nThe `AI Agent` node sends the image's title and original description to an AI model, prompting it to return a creative, short caption in Japanese."
      },
      "typeVersion": 1
    }
  ],
  "active": false,
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "7690a2dd-81cd-47e4-9d08-5fb06f87c4f0",
  "connections": {
    "Merge": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Combine for Slack",
            "type": "main",
            "index": 0
          },
          {
            "node": "Replace Me",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Replace Me": {
      "main": [
        [
          {
            "node": "Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch NASA EPIC": {
      "main": [
        [
          {
            "node": "Format EPIC Photo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Loop Over Items": {
      "main": [
        [],
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Mars Rover": {
      "main": [
        [
          {
            "node": "Format Mars Photo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Combine for Slack": {
      "main": [
        [
          {
            "node": "Post to Slack1",
            "type": "main",
            "index": 0
          },
          {
            "node": "Set: Prepare Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format EPIC Photo": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Mars Photo": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "OpenAI Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Fetch Image Library": {
      "main": [
        [
          {
            "node": "Format Library Photo",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Library Photo": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "Set: Prepare Summary": {
      "main": [
        [
          {
            "node": "Google Drive: Save Summary",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Workflow Configuration": {
      "main": [
        [
          {
            "node": "Fetch Mars Rover",
            "type": "main",
            "index": 0
          },
          {
            "node": "Fetch Image Library",
            "type": "main",
            "index": 0
          },
          {
            "node": "Fetch NASA EPIC",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Daily 10:00 - Start Poll": {
      "main": [
        [
          {
            "node": "Workflow Configuration",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  }
}